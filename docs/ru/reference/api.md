# üìñ –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ API

## `createForm(initialValues, rulesBuilder, options?)`

–°–æ–∑–¥–∞–µ—Ç —Ä–µ–∞–∫—Ç–∏–≤–Ω—É—é —Ñ–æ—Ä–º—É —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**

- `initialValues` - –ù–∞—á–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è —Ñ–æ—Ä–º—ã (–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤—ã–≤–æ–¥ —Ç–∏–ø–æ–≤)
- `rulesBuilder` - –§—É–Ω–∫—Ü–∏—è-—Å—Ç—Ä–æ–∏—Ç–µ–ª—å –ø—Ä–∞–≤–∏–ª `(r, define) => define({...})` –∏–ª–∏ —Ä–µ–∞–∫—Ç–∏–≤–Ω—ã–π computed `computed(() => { const r = createRules(); return {...} })` –¥–ª—è i18n
- `options` - –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

**–ù–∞—Å—Ç—Ä–æ–π–∫–∏:**

- `onSubmit?` - –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã
- `onClear?` - –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—á–∏—Å—Ç–∫–∏ —Ñ–æ—Ä–º—ã

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –≠–∫–∑–µ–º–ø–ª—è—Ä —Ñ–æ—Ä–º—ã —Å —Ä–µ–∞–∫—Ç–∏–≤–Ω—ã–º–∏ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏ –∏ –º–µ—Ç–æ–¥–∞–º–∏

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**

- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –ø—É—Ç–µ–π —Ç–∏–ø–∞ `'contacts.0.email'`
- –ú–µ—Ç–æ–¥—ã `arrayPath()` –∏ `objectPath()` –¥–ª—è —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –ø—É—Ç–µ–π
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞—Å—Å–∏–≤–∞–º–∏: `addArrayItem()`, `removeArrayItem()`, `toggleArrayItem()`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö

## –°–≤–æ–π—Å—Ç–≤–∞ –∏ –º–µ—Ç–æ–¥—ã —Ñ–æ—Ä–º—ã

### –†–µ–∞–∫—Ç–∏–≤–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

| –°–≤–æ–π—Å—Ç–≤–æ        | –¢–∏–ø                             | –û–ø–∏—Å–∞–Ω–∏–µ                                           |
| --------------- | ------------------------------- | -------------------------------------------------- |
| `values`        | `Ref<T>`                        | –¢–µ–∫—É—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è —Ñ–æ—Ä–º—ã (—Ä–µ–∞–∫—Ç–∏–≤–Ω—ã–π ref)            |
| `val`           | `T`                             | –ì–µ—Ç—Ç–µ—Ä –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –∑–Ω–∞—á–µ–Ω–∏—è–º (–≤ script) |
| `errors`        | `Ref<Record<string, string[]>>` | –û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–æ –ø–æ–ª—è–º                          |
| `touched`       | `Ref<Record<string, boolean>>`  | –°–æ—Å—Ç–æ—è–Ω–∏–µ "—Ç—Ä–æ–Ω—É—Ç–æ—Å—Ç–∏" –ø–æ–ª–µ–π                       |
| `dirty`         | `Ref<Record<string, boolean>>`  | –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ –ø–æ–ª—è                                    |
| `isValidating`  | `Ref<Record<string, boolean>>`  | –ü–æ–ª—è –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏                          |
| `isSubmitting`  | `Ref<boolean>`                  | –°—Ç–∞—Ç—É—Å –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã                              |
| `isValid`       | `ComputedRef<boolean>`          | –í–∞–ª–∏–¥–Ω–æ—Å—Ç—å –≤—Å–µ–π —Ñ–æ—Ä–º—ã                              |
| `isDirty`       | `ComputedRef<boolean>`          | –ù–∞–ª–∏—á–∏–µ –Ω–µ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π                    |
| `hasAnyErrors`  | `ComputedRef<boolean>`          | –ù–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫ –≤ —Ñ–æ—Ä–º–µ                             |
| `touchedFields` | `ComputedRef<string[]>`         | –°–ø–∏—Å–æ–∫ "—Ç—Ä–æ–Ω—É—Ç—ã—Ö" –ø–æ–ª–µ–π                            |
| `dirtyFields`   | `ComputedRef<string[]>`         | –°–ø–∏—Å–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã—Ö –ø–æ–ª–µ–π                            |

### –ú–µ—Ç–æ–¥—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏

| –ú–µ—Ç–æ–¥                 | –û–ø–∏—Å–∞–Ω–∏–µ                                             |
| --------------------- | ---------------------------------------------------- |
| `setRules(rules)`     | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏                         |
| `validateField(name)` | –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–µ (–æ–±—ã—á–Ω–æ–µ –∏–ª–∏ –≤–ª–æ–∂–µ–Ω–Ω–æ–µ)            |
| `validateForm()`      | –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –≤—Å—é —Ñ–æ—Ä–º—É                               |
| `submit()`            | –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ñ–æ—Ä–º—É –ø–æ—Å–ª–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏                      |
| `touch(field)`        | –û—Ç–º–µ—Ç–∏—Ç—å –ø–æ–ª–µ –∫–∞–∫ "—Ç—Ä–æ–Ω—É—Ç–æ–µ" (–æ–±—ã—á–Ω–æ–µ –∏–ª–∏ –≤–ª–æ–∂–µ–Ω–Ω–æ–µ) |

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º

| –ú–µ—Ç–æ–¥                | –û–ø–∏—Å–∞–Ω–∏–µ                             |
| -------------------- | ------------------------------------ |
| `setValues(values)`  | –û–±–Ω–æ–≤–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª–µ–π              |
| `getValues()`        | –ü–æ–ª—É—á–∏—Ç—å –∫–æ–ø–∏—é —Ç–µ–∫—É—â–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π      |
| `clear(useInitial?)` | –û—á–∏—Å—Ç–∏—Ç—å —Ñ–æ—Ä–º—É                       |
| `reset(newValues?)`  | –°–±—Ä–æ—Å–∏—Ç—å —Ñ–æ—Ä–º—É –∫ –Ω–∞—á–∞–ª—å–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏—è–º |
| `resetState()`       | –°–±—Ä–æ—Å–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏         |
| `setErrors(errors)`  | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ—à–∏–±–∫–∏ –¥–ª—è –ø–æ–ª–µ–π          |
| `resetErrors()`      | –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –æ—à–∏–±–∫–∏                  |

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–ª–µ–π

**–£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã (—Ä–∞–±–æ—Ç–∞—é—Ç —Å –æ–±—ã—á–Ω—ã–º–∏ –∏ –≤–ª–æ–∂–µ–Ω–Ω—ã–º–∏ –ø–æ–ª—è–º–∏):**

| –ú–µ—Ç–æ–¥                   | –í–æ–∑–≤—Ä–∞—Ç          | –û–ø–∏—Å–∞–Ω–∏–µ                           |
| ----------------------- | ---------------- | ---------------------------------- |
| `hasError(field)`       | `boolean`        | –ï—Å—Ç—å –ª–∏ –æ—à–∏–±–∫–∏ –≤ –ø–æ–ª–µ              |
| `error(field)`          | `string \| null` | –ü–µ—Ä–≤–∞—è –æ—à–∏–±–∫–∞ –ø–æ–ª—è                 |
| `allErrors(field)`      | `string[]`       | –í—Å–µ –æ—à–∏–±–∫–∏ –ø–æ–ª—è                    |
| `isTouched(field)`      | `boolean`        | –ë—ã–ª–æ –ª–∏ –ø–æ–ª–µ "—Ç—Ä–æ–Ω—É—Ç–æ"             |
| `validating(field)`     | `boolean`        | –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç—Å—è –ª–∏ –ø–æ–ª–µ               |
| `isFieldDirty(field)`   | `boolean`        | –ò–∑–º–µ–Ω–µ–Ω–æ –ª–∏ –ø–æ–ª–µ                   |
| `getFieldStatus(field)` | `FieldStatus`    | –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –ø–æ–ª—è |

**–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**

```typescript
// –û–±—ã—á–Ω—ã–µ –ø–æ–ª—è
form.hasError('email')
form.error('name')

// –í–ª–æ–∂–µ–Ω–Ω—ã–µ –ø—É—Ç–∏
form.hasError('contacts.0.email')
form.error('address.street')

// –° –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ–º —á–µ—Ä–µ–∑ helper'—ã
form.hasError(form.arrayPath('contacts', 0, 'email'))
form.error(form.objectPath('address', 'street'))
```

### –†–∞–±–æ—Ç–∞ —Å –≤–ª–æ–∂–µ–Ω–Ω—ã–º–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏

| –ú–µ—Ç–æ–¥                                    | –û–ø–∏—Å–∞–Ω–∏–µ                                         |
| ---------------------------------------- | ------------------------------------------------ |
| `addArrayItem(arrayPath, item)`          | –î–æ–±–∞–≤–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç –≤ –º–∞—Å—Å–∏–≤                        |
| `removeArrayItem(arrayPath, index)`      | –£–¥–∞–ª–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç –∏–∑ –º–∞—Å—Å–∏–≤–∞                       |
| `toggleArrayItem(arrayPath, item)`       | –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç –≤ –º–∞—Å—Å–∏–≤–µ (–¥–æ–±–∞–≤–∏—Ç—å/—É–¥–∞–ª–∏—Ç—å) |
| `arrayIncludes(arrayPath, item)`         | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è –ª–∏ —ç–ª–µ–º–µ–Ω—Ç –≤ –º–∞—Å—Å–∏–≤–µ        |
| `arrayPath(arrayField, index, property)` | –ü–æ—Å—Ç—Ä–æ–∏—Ç—å —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø—É—Ç—å –∫ —ç–ª–µ–º–µ–Ω—Ç—É –º–∞—Å—Å–∏–≤–∞ |
| `objectPath(objectField, property)`      | –ü–æ—Å—Ç—Ä–æ–∏—Ç—å —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø—É—Ç—å –∫ —Å–≤–æ–π—Å—Ç–≤—É –æ–±—ä–µ–∫—Ç–∞ |

### –§–∞–π–ª–æ–≤—ã–µ —É—Ç–∏–ª–∏—Ç—ã

| –°–≤–æ–π—Å—Ç–≤–æ                    | –û–ø–∏—Å–∞–Ω–∏–µ                                            |
| --------------------------- | --------------------------------------------------- |
| `file.{fieldName}.files`    | `ComputedRef<File[]>` - –°–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤               |
| `file.{fieldName}.fileInfo` | `ComputedRef<FileInfo[]>` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–∞–π–ª–∞—Ö     |
| `file.{fieldName}.handler`  | `(event: Event) => void` - –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–æ–≤ |
| `file.{fieldName}.clear`    | `() => void` - –û—á–∏—Å—Ç–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –∏ DOM input |

**Note:** Helpers —Å–æ–∑–¥–∞—é—Ç—Å—è –ª–µ–Ω–∏–≤–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏. –î–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `multiple` –Ω–∞ `<input type="file">` ‚Äî –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç —ç—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ —Å–æ–±—ã—Ç–∏—é –≤–≤–æ–¥–∞.

**–í–∞–∂–Ω–æ:** –ú–µ—Ç–æ–¥ `clear()` –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—á–∏—â–∞–µ—Ç —Ñ–∞–π–ª–æ–≤—ã–µ –ø–æ–ª—è - –∫–∞–∫ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ —Ñ–æ—Ä–º–µ, —Ç–∞–∫ –∏ –≤–∏–∑—É–∞–ª—å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ DOM input —ç–ª–µ–º–µ–Ω—Ç–µ. –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Å–∏—Ç—É–∞—Ü–∏—é, –∫–æ–≥–¥–∞ –ø–æ—Å–ª–µ `clear()` —Ñ–∞–π–ª –∏—Å—á–µ–∑–∞–µ—Ç –∏–∑ —Ñ–æ—Ä–º—ã, –Ω–æ –æ—Å—Ç–∞–µ—Ç—Å—è –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤ input.

### –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –º–µ—Ç–æ–¥—ã

| –ú–µ—Ç–æ–¥                | –û–ø–∏—Å–∞–Ω–∏–µ                                                  |
| -------------------- | --------------------------------------------------------- |
| `clearCache(field?)` | –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (–ø–æ–ª—è –∏–ª–∏ –≤–µ—Å—å –∫—ç—à)                |
| `dispose()`          | –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å watchers –∏ –æ—á–∏—Å—Ç–∏—Ç—å —Ä–µ—Å—É—Ä—Å—ã (–∞–≤—Ç–æ –ø—Ä–∏ unmount) |